<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRV8711 ë ˆì§€ìŠ¤í„° ê³„ì‚°ê¸°</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2196F3, #21CBF3);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            padding: 30px;
        }

        .register-container {
            margin-bottom: 40px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .register-container:hover {
            border-color: #2196F3;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.1);
        }

        .register-header {
            background: #f5f5f5;
            padding: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .register-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .register-description {
            color: #666;
            font-size: 0.95rem;
        }

        .register-content {
            padding: 25px;
        }

        .bit-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .bit-container {
            text-align: center;
        }

        .bit-label {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .bit-button {
            width: 40px;
            height: 40px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.2s ease;
            color: #666;
        }

        .bit-button:hover {
            border-color: #2196F3;
            transform: translateY(-2px);
        }

        .bit-button.active {
            background: #2196F3;
            color: white;
            border-color: #2196F3;
        }

        .bit-description {
            font-size: 0.75rem;
            color: #888;
            margin-top: 5px;
            min-height: 30px;
            line-height: 1.2;
            word-wrap: break-word;
        }

        .bit-detail {
            font-size: 0.7rem;
            color: #555;
            margin-top: 8px;
            padding: 8px;
            background: #f0f8ff;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            line-height: 1.3;
        }

        .register-notes {
            margin-top: 10px;
        }

        .note {
            font-size: 0.85rem;
            color: #e65100;
            margin-bottom: 5px;
            padding: 5px 10px;
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            border-radius: 3px;
        }

        .register-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .action-button {
            background: #673AB7;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.2s ease;
        }

        .action-button:hover {
            background: #5E35B1;
        }

        .register-values {
            display: flex;
            gap: 20px;
            align-items: center;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .value-display {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .value-label {
            font-weight: bold;
            color: #333;
        }

        .value-number {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: bold;
            color: #2196F3;
            background: white;
            padding: 8px 12px;
            border-radius: 5px;
            border: 2px solid #e0e0e0;
        }

        .copy-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.2s ease;
        }

        .copy-button:hover {
            background: #45a049;
        }

        .summary-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
        }

        .summary-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .summary-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }

        .summary-register {
            font-weight: bold;
            color: #2196F3;
            margin-bottom: 5px;
        }

        .summary-values {
            font-family: 'Courier New', monospace;
            color: #666;
        }

        .footnotes-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
            border: 2px solid #e0e0e0;
        }

        .footnotes-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
        }

        .footnotes-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 15px;
        }

        .footnote {
            background: white;
            padding: 12px;
            border-radius: 6px;
            border-left: 4px solid #2196F3;
            font-size: 0.85rem;
            line-height: 1.4;
            color: #555;
        }

        @media (max-width: 768px) {
            .bit-grid {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .register-values {
                flex-direction: column;
                align-items: stretch;
            }
            
            .value-display {
                justify-content: space-between;
            }

            .footnotes-content {
                grid-template-columns: 1fr;
            }

            .register-controls {
                flex-direction: column;
            }

            .action-button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>DRV8711 ë ˆì§€ìŠ¤í„° ê³„ì‚°ê¸°</h1>
            <p>ìŠ¤í…Œí¼ ëª¨í„° ë“œë¼ì´ë²„ DRV8711ì˜ ë ˆì§€ìŠ¤í„° ê°’ì„ ë¹„íŠ¸ë³„ë¡œ ì„¤ì •í•˜ê³  ê³„ì‚°í•˜ì„¸ìš”</p>
        </div>

        <div class="main-content">
            <div id="registers-container"></div>
            
            <div class="summary-section">
                <div class="summary-title">ğŸ“‹ ì „ì²´ ë ˆì§€ìŠ¤í„° ìš”ì•½</div>
                <div class="summary-grid" id="summary-grid"></div>
            </div>

            <div class="footnotes-section">
                <div class="footnotes-title">ğŸ“š ê¸°ìˆ  ì°¸ê³ ì‚¬í•­</div>
                <div class="footnotes-content">
                    <div class="footnote">Â¹ TPWM = 2Ã—DTIME + TBLANK + TOFF: PWM ì£¼ê¸° ê³„ì‚° ê³µì‹</div>
                    <div class="footnote">Â² ISGAIN: ë‚®ì€ ì „ë¥˜(< 1A)ëŠ” 40V/V, ì¤‘ê°„ ì „ë¥˜(1-3A)ëŠ” 20V/V, ë†’ì€ ì „ë¥˜(> 3A)ëŠ” 5-10V/V ê¶Œì¥</div>
                    <div class="footnote">Â³ ë§ˆì´í¬ë¡œìŠ¤í… ëª¨ë“œë³„ í† í¬: Full(100%) > 1/2(70%) > 1/4(50%) > 1/8(35%) > 1/16(25%)</div>
                    <div class="footnote">â´ IOUT = (TORQUE/256) Ã— VREF / (8 Ã— RIPROPI): ì¶œë ¥ ì „ë¥˜ ê³„ì‚° ê³µì‹</div>
                    <div class="footnote">âµ SIMPLTH: 0-3(ë§¤ìš° ë¯¼ê°), 4-7(ë¯¼ê°), 8-11(ë³´í†µ), 12-15(ë‘”ê°)</div>
                    <div class="footnote">â¶ ì´ˆê¸° í† í¬ ì„¤ì •: ì •ê²© ì „ë¥˜ì˜ 70-80%ì—ì„œ ì‹œì‘í•˜ì—¬ ì ì§„ì  ì¡°ì •</div>
                    <div class="footnote">â· fPWM â‰ˆ 1/(TPWM): PWM ì£¼íŒŒìˆ˜ ê·¼ì‚¬ ê³„ì‚°. ì¼ë°˜ì ìœ¼ë¡œ 20-100kHz ë²”ìœ„</div>
                    <div class="footnote">â¸ TOFF ê¶Œì¥ê°’: ì €ì†(10-20Î¼s), ì¤‘ì†(5-15Î¼s), ê³ ì†(2-10Î¼s)</div>
                    <div class="footnote">â¹ PWMMODE: 0=ë‚´ë¶€ ì¸ë±ì„œ(ì¼ë°˜ì ), 1=ì™¸ë¶€ STEP/DIR ì‹ í˜¸ ì œì–´</div>
                    <div class="footnote">Â¹â° TBLANK: PWM ON ì§í›„ ì „ë¥˜ ì„¼ì‹± ì§€ì—° ì‹œê°„ìœ¼ë¡œ ìŠ¤ìœ„ì¹­ ë…¸ì´ì¦ˆ ì œê±°</div>
                    <div class="footnote">Â¹Â¹ ABT=1: ì ì‘í˜• ë¸”ë­í‚¹ìœ¼ë¡œ PWM ì£¼íŒŒìˆ˜ ë³€í™”ì— ìë™ ëŒ€ì‘</div>
                    <div class="footnote">Â¹Â² TBLANK ê¶Œì¥ê°’: TOFFì˜ 10-30% ìˆ˜ì¤€, ìµœì†Œ 1Î¼s ì´ìƒ</div>
                    <div class="footnote">Â¹Â³ ê°ì‡  ëª¨ë“œ íŠ¹ì„±: Slow(ì €ì†ŒìŒ, ì €íš¨ìœ¨), Fast(ê³ íš¨ìœ¨, ê³ ë¦¬í”Œ), Mixed(ê· í˜•)</div>
                    <div class="footnote">Â¹â´ Auto-tune: ìë™ìœ¼ë¡œ ìµœì  ê°ì‡  ëª¨ë“œ ì„ íƒ, ë¶€í•˜ ë³€í™”ì— ì ì‘</div>
                    <div class="footnote">Â¹âµ TDECAY: Mixed ëª¨ë“œì—ì„œ Slowâ†’Fast ì „í™˜ì . ì¼ë°˜ì ìœ¼ë¡œ TOFFì˜ 50-80%</div>
                    <div class="footnote">Â¹â¶ Back-EMF: ëª¨í„° íšŒì „ ì‹œ ë°œìƒí•˜ëŠ” ì—­ê¸°ì „ë ¥ìœ¼ë¡œ ìŠ¤í†¨ ê²€ì¶œì˜ ê¸°ì¤€</div>
                    <div class="footnote">Â¹â· ìŠ¤í†¨ ê²€ì¶œ ì¡°ì •: ì €ì†/ê³ ë¶€í•˜ëŠ” ë‚®ì€ VDIVì™€ SDTHR, ê³ ì†/ì €ë¶€í•˜ëŠ” ë†’ì€ ê°’</div>
                    <div class="footnote">Â¹â¸ SDCNT: ìŠ¤í†¨ ì˜¤ê²€ì¶œ ë°©ì§€. ì§„ë™ì´ë‚˜ ì¼ì‹œì  ë¶€í•˜ ë³€í™” ë¬´ì‹œ</div>
                    <div class="footnote">Â¹â¹ DTIME í˜„ì¬ê°’: 00=400ns, 01=450ns, 10=650ns, 11=850ns (ë°ë“œíƒ€ì„)</div>
                    <div class="footnote">Â²â° ISGAIN í˜„ì¬ê°’: 00=5V/V, 01=10V/V, 10=20V/V, 11=40V/V (ì „ë¥˜ ì„¼ì‹± ê²Œì¸)</div>
                    <div class="footnote">Â²Â¹ Step Mode í˜„ì¬ê°’: 000=Full(71%), 001=1/2, 010=1/4, 011=1/8, 100=1/16, 101=1/32, 110=1/64, 111=1/128</div>
                    <div class="footnote">Â²Â² TOFF í˜„ì¬ê°’: ê°’Ã—500ns (PWM OFF ì‹œê°„, ë²”ìœ„: 0.5Î¼s~128Î¼s)</div>
                    <div class="footnote">Â²Â³ TBLANK í˜„ì¬ê°’: ê°’Ã—20ns (ë¸”ë­í‚¹ ì‹œê°„, ë²”ìœ„: 1Î¼s~5.12Î¼s)</div>
                    <div class="footnote">Â²â´ TORQUE í˜„ì¬ê°’: 0-255 (ì¶œë ¥ ì „ë¥˜ ë¹„ìœ¨, 255=100%)</div>
                    <div class="footnote">Â²âµ SIMPLTH í˜„ì¬ê°’: 0-15 (ìŠ¤í†¨ ê²€ì¶œ ë¯¼ê°ë„, ë‚®ì„ìˆ˜ë¡ ë¯¼ê°)</div>
                    <div class="footnote">Â²â¶ DECMOD í˜„ì¬ê°’: 000=Force slow, 001=Slow, 010=Fast, 011=Mixed, 100=Slow/Fast, 101-111=Auto-tune</div>
                    <div class="footnote">Â²â· TDECAY í˜„ì¬ê°’: ê°’Ã—500ns (Mixed ëª¨ë“œ ì „í™˜ ì‹œê°„)</div>
                    <div class="footnote">Â²â¸ VDIV í˜„ì¬ê°’: 00=/32, 01=/16, 10=/8, 11=/4 (Back-EMF ë¶„ë°°ë¹„)</div>
                    <div class="footnote">Â²â¹ SDCNT í˜„ì¬ê°’: 00=1, 01=2, 10=4, 11=8 steps (ìŠ¤í†¨ ê²€ì¶œ í™•ì¸ íšŸìˆ˜)</div>
                    <div class="footnote">Â³â° SDTHR í˜„ì¬ê°’: 0-255 (ìŠ¤í†¨ ê²€ì¶œ ì„ê³„ê°’)</div>
                    <div class="footnote">Â³Â¹ IDRIVE í˜„ì¬ê°’: 00=10mA, 01=30mA, 10=60mA, 11=120mA (ê²Œì´íŠ¸ êµ¬ë™ ì „ë¥˜)</div>
                    <div class="footnote">Â³Â² IDRIVEN í˜„ì¬ê°’: 00=10mA, 01=30mA, 10=60mA, 11=120mA (N-FET êµ¬ë™ ì „ë¥˜)</div>
                    <div class="footnote">Â³Â³ TDRIVEP í˜„ì¬ê°’: 00=250ns, 01=500ns, 10=1Î¼s, 11=2Î¼s (P-FET í”„ë¦¬ë“œë¼ì´ë¸Œ ì‹œê°„)</div>
                    <div class="footnote">Â³â´ TDRIVEN í˜„ì¬ê°’: 00=250ns, 01=500ns, 10=1Î¼s, 11=2Î¼s (N-FET í”„ë¦¬ë“œë¼ì´ë¸Œ ì‹œê°„)</div>
                    <div class="footnote">Â³âµ OCPTH í˜„ì¬ê°’: 00=250mV, 01=500mV, 10=750mV, 11=1V (ê³¼ì „ë¥˜ ë³´í˜¸ ì„ê³„ê°’)</div>
                    <div class="footnote">Â³â¶ OCPDEG í˜„ì¬ê°’: 00=1Î¼s, 01=2Î¼s, 10=4Î¼s, 11=8Î¼s (ê³¼ì „ë¥˜ ë””ê¸€ë¦¬ì¹˜ ì‹œê°„)</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DRV8711 ë ˆì§€ìŠ¤í„° ì •ì˜
        const DRV8711_REGISTERS = {
            'CTRL': {
                address: 0x00,
                name: 'Control Register',
                description: 'ëª¨í„° ì œì–´ ê¸°ë³¸ ì„¤ì • (ë°©í–¥, ìŠ¤í… ëª¨ë“œ, í™œì„±í™”)',
                defaultValue: 0x022A,
                notes: [
                    'DTIME (11:10): ë°ë“œíƒ€ì„ ì„¤ì • - 00=400ns, 01=450ns, 10=650ns, 11=850ns. ì§§ìœ¼ë©´ íš¨ìœ¨ í–¥ìƒ, ê¸¸ë©´ EMI ê°ì†ŒÂ¹', 
                    'ISGAIN (9:8): ì „ë¥˜ ì„¼ì‹± ê²Œì¸ - 00=5V/V(ëŒ€ì „ë¥˜), 01=10V/V(ì¤‘ì „ë¥˜), 10=20V/V(ì†Œì „ë¥˜), 11=40V/V(ë¯¸ì„¸ì „ë¥˜)Â²', 
                    'EXSTALL (7): ìŠ¤í†¨ ê²€ì¶œ ë°©ì‹ - 0=ë‚´ë¶€ Back-EMF ê¸°ë°˜, 1=ì™¸ë¶€ ì„¼ì„œ ê¸°ë°˜. ëŒ€ë¶€ë¶„ ë‚´ë¶€ ë°©ì‹ ì‚¬ìš© ê¶Œì¥',
                    'Step Mode (6:3): ë§ˆì´í¬ë¡œìŠ¤í… í•´ìƒë„ - 000=Full(71%), 001=1/2, 010=1/4... 111=1/128. ë†’ì„ìˆ˜ë¡ ë¶€ë“œëŸ½ì§€ë§Œ í† í¬ ê°ì†ŒÂ³',
                    'RSTEP (3): ìŠ¤í… ë°©í–¥ ë°˜ì „ - 0=ì •ìƒ, 1=ë°˜ì „. ë°°ì„  ìˆ˜ì • ì—†ì´ ë°©í–¥ ë³€ê²½ ê°€ëŠ¥',
                    'RDIR (2): ë°©í–¥ ì‹ í˜¸ ë°˜ì „ - 0=ì •ìƒ, 1=ë°˜ì „. DIR ì‹ í˜¸ ë…¼ë¦¬ ë°˜ì „',
                    'ENBL (1): ëª¨í„° ì¶œë ¥ í™œì„±í™” - 0=ë¹„í™œì„±(í•˜ì´ì„í”¼ë˜ìŠ¤), 1=í™œì„±(êµ¬ë™ ê°€ëŠ¥). ë¹„ìƒì •ì§€ ì‹œ 0ìœ¼ë¡œ ì„¤ì •'
                ],
                bits: {
                    11: { name: 'DTIME', desc: 'Dead Time', detail: 'High/Low side FET ë™ì‹œ ë„í†µ ë°©ì§€ë¥¼ ìœ„í•œ ë°ë“œíƒ€ì„<br/>â€¢ 00: 400ns (ë¹ ë¥¸ ìŠ¤ìœ„ì¹­, ë†’ì€ íš¨ìœ¨)<br/>â€¢ 01: 450ns<br/>â€¢ 10: 650ns<br/>â€¢ 11: 850ns (ì•ˆì „í•œ ìŠ¤ìœ„ì¹­, ë‚®ì€ EMI)', values: ['400ns', '450ns', '650ns', '850ns'] },
                    10: { name: 'DTIME', desc: 'Dead Time (bit 10)', detail: 'ìƒìœ„ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ ë°ë“œíƒ€ì„ ì„¤ì •' },
                    9: { name: 'ISGAIN', desc: 'Current Sense Gain', detail: 'ì „ë¥˜ ì„¼ì‹± ì¦í­ë¥ . ëª¨í„° ì „ë¥˜ì— ë§ê²Œ ì„ íƒ<br/>â€¢ 00: 5V/V (ëŒ€ì „ë¥˜ìš© >3A)<br/>â€¢ 01: 10V/V (ì¤‘ì „ë¥˜ìš© 1-3A)<br/>â€¢ 10: 20V/V (ì†Œì „ë¥˜ìš© 0.5-1A)<br/>â€¢ 11: 40V/V (ë¯¸ì„¸ì „ë¥˜ìš© <0.5A)', values: ['5V/V', '10V/V', '20V/V', '40V/V'] },
                    8: { name: 'ISGAIN', desc: 'Current Sense Gain (bit 8)', detail: 'ìƒìœ„ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ ê²Œì¸ ì„¤ì •' },
                    7: { name: 'EXSTALL', desc: 'External Stall Detection (0: Internal, 1: External)', detail: 'ìŠ¤í†¨ ê²€ì¶œ ë°©ì‹ ì„ íƒ<br/>â€¢ 0: ë‚´ë¶€ Back-EMF ê¸°ë°˜ (ìë™)<br/>â€¢ 1: ì™¸ë¶€ ì„¼ì„œ ê¸°ë°˜ (ì •ë°€)' },
                    6: { name: 'MODE[3]', desc: 'Step Mode bit 3', detail: 'ë§ˆì´í¬ë¡œìŠ¤í… í•´ìƒë„ ì„¤ì • (4ë¹„íŠ¸ ì¡°í•©)<br/>â€¢ 0000: Full-step (71% ì „ë¥˜, ìµœëŒ€í† í¬)<br/>â€¢ 0001: 1/2 step (ë¶€ë“œëŸ¬ìš´ ë™ì‘)<br/>â€¢ 0010: 1/4 step (ê· í˜•)<br/>â€¢ 0011: 1/8 step (ì •ë°€ì œì–´)<br/>â€¢ 0100: 1/16 step (ë§¤ìš° ë¶€ë“œëŸ¬ì›€)<br/>â€¢ 0101: 1/32 step<br/>â€¢ 0110: 1/64 step<br/>â€¢ 0111: 1/128 step (ì´ˆì •ë°€)', values: ['Full(71%)', '1/2 step', '1/4 step', '1/8 step', '1/16 step', '1/32 step', '1/64 step', '1/128 step'] },
                    5: { name: 'MODE[2]', desc: 'Step Mode bit 2', detail: 'ë§ˆì´í¬ë¡œìŠ¤í… ëª¨ë“œ ì„¤ì • ë¹„íŠ¸' },
                    4: { name: 'MODE[1]', desc: 'Step Mode bit 1', detail: 'ë§ˆì´í¬ë¡œìŠ¤í… ëª¨ë“œ ì„¤ì • ë¹„íŠ¸' },
                    3: { name: 'MODE[0]', desc: 'Step Mode bit 0', detail: 'ë§ˆì´í¬ë¡œìŠ¤í… ëª¨ë“œ ì„¤ì • ë¹„íŠ¸' },
                    2: { name: 'RSTEP', desc: 'Reverse Step (0: Normal, 1: Reverse)', detail: 'ìŠ¤í… ì‹ í˜¸ ë°©í–¥ ë°˜ì „<br/>â€¢ 0: ì •ìƒ (STEP í„ìŠ¤ë§ˆë‹¤ ì •ë°©í–¥ ì´ë™)<br/>â€¢ 1: ë°˜ì „ (STEP í„ìŠ¤ë§ˆë‹¤ ì—­ë°©í–¥ ì´ë™)' },
                    1: { name: 'RDIR', desc: 'Reverse Direction (0: Normal, 1: Reverse)', detail: 'ë°©í–¥ ì‹ í˜¸ ë°˜ì „<br/>â€¢ 0: ì •ìƒ (DIR ì‹ í˜¸ ê·¸ëŒ€ë¡œ ì‚¬ìš©)<br/>â€¢ 1: ë°˜ì „ (DIR ì‹ í˜¸ ë°˜ëŒ€ë¡œ í•´ì„)' },
                    0: { name: 'ENBL', desc: 'Enable Motor (0: Disable, 1: Enable)', detail: 'ëª¨í„° ì¶œë ¥ í™œì„±í™”<br/>â€¢ 0: ë¹„í™œì„± (ëª¨ë“  ì¶œë ¥ í•˜ì´ì„í”¼ë˜ìŠ¤)<br/>â€¢ 1: í™œì„± (ëª¨í„° êµ¬ë™ ê°€ëŠ¥)' }
                }
            },
            'TORQUE': {
                address: 0x01,
                name: 'Torque Register',
                description: 'í† í¬ ë° ì „ë¥˜ ì œí•œ ì„¤ì •',
                defaultValue: 0x0160,
                notes: [
                    'SIMPLTH (11:8): Back-EMF ìƒ˜í”Œ ì„ê³„ê°’ - 0~3=ë§¤ìš°ë¯¼ê°, 4~7=ë¯¼ê°, 8~11=ë³´í†µ, 12~15=ë‘”ê°. ìŠ¤í†¨ ê²€ì¶œ ë¯¼ê°ë„ ì¡°ì •âµ',
                    'TORQUE (7:0): ì¶œë ¥ ì „ë¥˜ DAC - 0~255 (0~100%). ê³µì‹: IOUT = (TORQUE/256) Ã— VREF / (8 Ã— RIPROPI)â´',
                    'ì´ˆê¸° ì„¤ì •: ëª¨í„° ì •ê²© ì „ë¥˜ì˜ 70-80%ì—ì„œ ì‹œì‘í•˜ì—¬ ì ì§„ì  ì¡°ì • ê¶Œì¥â¶',
                    'í† í¬ì™€ ë°œì—´ ê´€ê³„: ë†’ì€ TORQUE ê°’ì€ ë†’ì€ í† í¬ì´ì§€ë§Œ ë°œì—´ ì¦ê°€, ì ì ˆí•œ ë°©ì—´ í•„ìš”',
                    'SIMPLTH ì¡°ì •: ì €ì†/ê³ ë¶€í•˜ ì‹œ ë‚®ì€ ê°’, ê³ ì†/ì €ë¶€í•˜ ì‹œ ë†’ì€ ê°’ ì‚¬ìš©'
                ],
                bits: {
                    11: { name: 'SIMPLTH', desc: 'Back EMF Sample Threshold', detail: 'Back-EMF ìƒ˜í”Œë§ ì„ê³„ê°’ (4ë¹„íŠ¸ 0-15)<br/>â€¢ 0-3: ë§¤ìš° ë¯¼ê° (ë¯¸ì„¸í•œ ìŠ¤í†¨ë„ ê²€ì¶œ)<br/>â€¢ 4-7: ë¯¼ê° (ì¼ë°˜ì ì¸ ìŠ¤í†¨ ê²€ì¶œ)<br/>â€¢ 8-11: ë³´í†µ (ê· í˜•ì¡íŒ ê²€ì¶œ)<br/>â€¢ 12-15: ë‘”ê° (í™•ì‹¤í•œ ìŠ¤í†¨ë§Œ ê²€ì¶œ)', calculator: true, bits: 4 },
                    10: { name: 'SIMPLTH', desc: 'Back EMF Sample Threshold (bit 10)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SIMPLTH ê°’ ì„¤ì •' },
                    9: { name: 'SIMPLTH', desc: 'Back EMF Sample Threshold (bit 9)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SIMPLTH ê°’ ì„¤ì •' },
                    8: { name: 'SIMPLTH', desc: 'Back EMF Sample Threshold (bit 8)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SIMPLTH ê°’ ì„¤ì •' },
                    7: { name: 'TORQUE', desc: 'Torque DAC', detail: 'ì¶œë ¥ ì „ë¥˜ ì œì–´ DAC (8ë¹„íŠ¸ 0-255)<br/>â€¢ ê³µì‹: IOUT = (TORQUE/256) Ã— VREF / (8 Ã— RIPROPI)<br/>â€¢ 0: ìµœì†Œì „ë¥˜ (0%)<br/>â€¢ 128: ì¤‘ê°„ì „ë¥˜ (50%)<br/>â€¢ 255: ìµœëŒ€ì „ë¥˜ (100%)<br/>â€¢ ëª¨í„° ì •ê²©ì˜ 70-80%ë¡œ ì‹œì‘ ê¶Œì¥', calculator: true, bits: 8, unit: '/256' },
                    6: { name: 'TORQUE', desc: 'Torque DAC (bit 6)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TORQUE ê°’ ì„¤ì •' },
                    5: { name: 'TORQUE', desc: 'Torque DAC (bit 5)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TORQUE ê°’ ì„¤ì •' },
                    4: { name: 'TORQUE', desc: 'Torque DAC (bit 4)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TORQUE ê°’ ì„¤ì •' },
                    3: { name: 'TORQUE', desc: 'Torque DAC (bit 3)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TORQUE ê°’ ì„¤ì •' },
                    2: { name: 'TORQUE', desc: 'Torque DAC (bit 2)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TORQUE ê°’ ì„¤ì •' },
                    1: { name: 'TORQUE', desc: 'Torque DAC (bit 1)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TORQUE ê°’ ì„¤ì •' },
                    0: { name: 'TORQUE', desc: 'Torque DAC (bit 0)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TORQUE ê°’ ì„¤ì •' }
                }
            },
            'OFF': {
                address: 0x02,
                name: 'Off Time Register',
                description: 'PWM ì˜¤í”„ íƒ€ì„ ë° ì „ë¥˜ ê°ì‡  ì‹œê°„ ì„¤ì •',
                defaultValue: 0x000F,
                notes: [
                    'PWMMODE (11): PWM ì œì–´ ëª¨ë“œ - 0=ë‚´ë¶€ ì¸ë±ì„œ(ì¼ë°˜ì ), 1=ì™¸ë¶€ STEP/DIR ì‹ í˜¸ ì œì–´â¹',
                    'TOFF (7:0): PWM OFF ì‹œê°„ - ê°’Ã—500ns ë‹¨ìœ„. ë²”ìœ„: 0.5Î¼s~128Î¼s. PWM ì£¼íŒŒìˆ˜ ê²°ì •ì˜ í•µì‹¬â·',
                    'PWM ì£¼íŒŒìˆ˜ ê³„ì‚°: fPWM â‰ˆ 1/(2Ã—DTIME + TBLANK + TOFF). ì¼ë°˜ì ìœ¼ë¡œ 20~100kHz ë²”ìœ„ ì‚¬ìš©',
                    'TOFF ìµœì í™”: ì €ì†=10~20Î¼s, ì¤‘ì†=5~15Î¼s, ê³ ì†=2~10Î¼s. ì‘ì„ìˆ˜ë¡ ë¦¬í”Œ ê°ì†Œ, í´ìˆ˜ë¡ íš¨ìœ¨ í–¥ìƒâ¸',
                    'ì „ë¥˜ ë¦¬í”Œê³¼ì˜ ê´€ê³„: TOFFê°€ ì‘ìœ¼ë©´ ë†’ì€ PWM ì£¼íŒŒìˆ˜ë¡œ ì „ë¥˜ ë¦¬í”Œ ê°ì†Œí•˜ì§€ë§Œ ìŠ¤ìœ„ì¹­ ì†ì‹¤ ì¦ê°€'
                ],
                bits: {
                    11: { name: 'PWMMODE', desc: 'PWM Mode (0: Internal indexer, 1: External indexer)', detail: 'PWM ì œì–´ ëª¨ë“œ ì„ íƒ<br/>â€¢ 0: ë‚´ë¶€ ì¸ë±ì„œ ì‚¬ìš© (ì¼ë°˜ì )<br/>â€¢ 1: ì™¸ë¶€ ìŠ¤í…/ë°©í–¥ ì‹ í˜¸ë¡œ ì œì–´' },
                    10: { name: 'Reserved', desc: 'Reserved (should be 0)', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸, í•­ìƒ 0ìœ¼ë¡œ ì„¤ì •' },
                    9: { name: 'Reserved', desc: 'Reserved (should be 0)', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸, í•­ìƒ 0ìœ¼ë¡œ ì„¤ì •' },
                    8: { name: 'Reserved', desc: 'Reserved (should be 0)', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸, í•­ìƒ 0ìœ¼ë¡œ ì„¤ì •' },
                    7: { name: 'TOFF', desc: 'Off Time', detail: 'PWM OFF ì‹œê°„ (500ns ë‹¨ìœ„)<br/>â€¢ ë²”ìœ„: 0.5Î¼s ~ 128Î¼s<br/>â€¢ ê³„ì‚°: ê°’ Ã— 500ns<br/>â€¢ ì‘ì„ìˆ˜ë¡: ë†’ì€ PWM ì£¼íŒŒìˆ˜, ì „ë¥˜ ë¦¬í”Œ ê°ì†Œ<br/>â€¢ í´ìˆ˜ë¡: ë‚®ì€ PWM ì£¼íŒŒìˆ˜, ìŠ¤ìœ„ì¹­ ì†ì‹¤ ê°ì†Œ', calculator: true, unit: 'Ã—500ns', min: 1, max: 255 },
                    6: { name: 'TOFF', desc: 'Off Time (bit 6)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TOFF ê°’ ì„¤ì •' },
                    5: { name: 'TOFF', desc: 'Off Time (bit 5)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TOFF ê°’ ì„¤ì •' },
                    4: { name: 'TOFF', desc: 'Off Time (bit 4)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TOFF ê°’ ì„¤ì •' },
                    3: { name: 'TOFF', desc: 'Off Time (bit 3)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TOFF ê°’ ì„¤ì •' },
                    2: { name: 'TOFF', desc: 'Off Time (bit 2)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TOFF ê°’ ì„¤ì •' },
                    1: { name: 'TOFF', desc: 'Off Time (bit 1)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TOFF ê°’ ì„¤ì •' },
                    0: { name: 'TOFF', desc: 'Off Time (bit 0)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TOFF ê°’ ì„¤ì •' }
                }
            },
            'BLANK': {
                address: 0x03,
                name: 'Blanking Time Register',
                description: 'ì „ë¥˜ ì„¼ì‹± ë¸”ë­í‚¹ íƒ€ì„ ì„¤ì •',
                defaultValue: 0x0150,
                notes: [
                    'ABT (11): ì ì‘í˜• ë¸”ë­í‚¹ - 0=ê³ ì •ê°’, 1=PWM ì£¼íŒŒìˆ˜ì— ë”°ë¼ ìë™ ì¡°ì •. ê°€ë³€ ì£¼íŒŒìˆ˜ ì‹œ ìœ ìš©Â¹Â¹',
                    'TBLANK (7:0): ë¸”ë­í‚¹ ì‹œê°„ - ê°’Ã—20ns ë‹¨ìœ„. ë²”ìœ„: 1Î¼s~5.12Î¼s (ìµœì†Œ 0x32=1Î¼s)Â¹â°',
                    'ë¸”ë­í‚¹ ëª©ì : PWM ON ì§í›„ ìŠ¤ìœ„ì¹­ ë…¸ì´ì¦ˆë¡œ ì¸í•œ ì˜¤ê²€ì¶œ ë°©ì§€. ì „ë¥˜ ì„¼ì‹± ì •í™•ë„ í–¥ìƒ',
                    'TBLANK ìµœì ê°’: TOFFì˜ 10~30% ìˆ˜ì¤€, ìµœì†Œ 1Î¼s ì´ìƒ ê¶Œì¥Â¹Â²',
                    'íŠ¸ë ˆì´ë“œì˜¤í”„: ì§§ìœ¼ë©´ ë¹ ë¥¸ ì „ë¥˜ ì œì–´ì´ì§€ë§Œ ë…¸ì´ì¦ˆ ë¯¼ê°, ê¸¸ë©´ ë…¸ì´ì¦ˆ ë‚´ì„± ê°•í™”ì´ì§€ë§Œ ì œì–´ ì§€ì—°'
                ],
                bits: {
                    11: { name: 'ABT', desc: 'Adaptive Blanking Time (0: Fixed, 1: Adaptive)', detail: 'ì ì‘í˜• ë¸”ë­í‚¹ ì‹œê°„ ì œì–´<br/>â€¢ 0: ê³ ì •ê°’ ì‚¬ìš© (ì„¤ì •í•œ TBLANK ê°’)<br/>â€¢ 1: ì ì‘í˜• (PWM ì£¼ê¸°ì— ë”°ë¼ ìë™ ì¡°ì •)' },
                    10: { name: 'Reserved', desc: 'Reserved (should be 0)', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸, í•­ìƒ 0ìœ¼ë¡œ ì„¤ì •' },
                    9: { name: 'Reserved', desc: 'Reserved (should be 0)', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸, í•­ìƒ 0ìœ¼ë¡œ ì„¤ì •' },
                    8: { name: 'Reserved', desc: 'Reserved (should be 0)', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸, í•­ìƒ 0ìœ¼ë¡œ ì„¤ì •' },
                    7: { name: 'TBLANK', desc: 'Blanking Time', detail: 'ì „ë¥˜ ì„¼ì‹± ë¸”ë­í‚¹ ì‹œê°„ (20ns ë‹¨ìœ„)<br/>â€¢ ë²”ìœ„: 1Î¼s ~ 5.12Î¼s<br/>â€¢ ê³„ì‚°: ê°’ Ã— 20ns (ìµœì†Œ 0x32=1Î¼s)<br/>â€¢ ì§§ì„ìˆ˜ë¡: ë¹ ë¥¸ ì „ë¥˜ ì œì–´, ë…¸ì´ì¦ˆ ë¯¼ê°<br/>â€¢ ê¸¸ìˆ˜ë¡: ë…¸ì´ì¦ˆ ë‚´ì„± ê°•í™”, ì œì–´ ì§€ì—°', calculator: true, unit: 'Ã—20ns', min: 50, max: 255 },
                    6: { name: 'TBLANK', desc: 'Blanking Time (bit 6)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TBLANK ê°’ ì„¤ì •' },
                    5: { name: 'TBLANK', desc: 'Blanking Time (bit 5)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TBLANK ê°’ ì„¤ì •' },
                    4: { name: 'TBLANK', desc: 'Blanking Time (bit 4)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TBLANK ê°’ ì„¤ì •' },
                    3: { name: 'TBLANK', desc: 'Blanking Time (bit 3)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TBLANK ê°’ ì„¤ì •' },
                    2: { name: 'TBLANK', desc: 'Blanking Time (bit 2)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TBLANK ê°’ ì„¤ì •' },
                    1: { name: 'TBLANK', desc: 'Blanking Time (bit 1)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TBLANK ê°’ ì„¤ì •' },
                    0: { name: 'TBLANK', desc: 'Blanking Time (bit 0)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TBLANK ê°’ ì„¤ì •' }
                }
            },
            'DECAY': {
                address: 0x04,
                name: 'Decay Mode Register',
                description: 'ì „ë¥˜ ê°ì‡  ëª¨ë“œ ë° íƒ€ì´ë° ì„¤ì •',
                defaultValue: 0x01FC,
                notes: [
                    'DECMOD (11:9): ê°ì‡  ëª¨ë“œ - 000=Force slow, 001=Slow, 010=Fast, 011=Mixed, 100=Slow/Fast, 101~111=Auto-tuneÂ¹Â³',
                    'TDECAY (8:0): Mixed ëª¨ë“œ ì „í™˜ ì‹œê°„ - ê°’Ã—500ns ë‹¨ìœ„. Mixed ëª¨ë“œì—ì„œ Slowâ†’Fast ì „í™˜ì  ì„¤ì •Â¹âµ',
                    'ê°ì‡  ëª¨ë“œ íŠ¹ì„±: Slow=ì €ì†ŒìŒ/ì €íš¨ìœ¨, Fast=ê³ íš¨ìœ¨/ê³ ë¦¬í”Œ, Mixed=ê· í˜•, Auto-tune=ìë™ ìµœì í™”Â¹â´',
                    'TDECAY ê¶Œì¥ê°’: ì¼ë°˜ì ìœ¼ë¡œ TOFFì˜ 50~80% ìˆ˜ì¤€. ë„ˆë¬´ ì‘ìœ¼ë©´ ë¹ ë¥¸ ì „í™˜, ë„ˆë¬´ í¬ë©´ ëŠë¦° ì „í™˜',
                    'ì‘ìš©ë³„ ì„ íƒ: ì •ë°€ ìœ„ì¹˜ì œì–´=Mixed/Auto, ê³ ì† ë™ì‘=Fast, ì €ì†ŒìŒ=Slow'
                ],
                bits: {
                    11: { name: 'DECMOD', desc: 'Decay Mode', detail: 'ì „ë¥˜ ê°ì‡  ëª¨ë“œ ì„ íƒ (3ë¹„íŠ¸)<br/>â€¢ 000: Force slow (ê°•ì œ ì €ì† ê°ì‡ )<br/>â€¢ 001: Slow decay (ì €ì†ŒìŒ, ì €íš¨ìœ¨)<br/>â€¢ 010: Fast decay (ê³ íš¨ìœ¨, ê³ ë¦¬í”Œ)<br/>â€¢ 011: Mixed decay (ê· í˜•)<br/>â€¢ 100: Slow/Fast ì ì‘í˜•<br/>â€¢ 101-111: Auto-tune (ìë™ ìµœì í™”)', values: ['Force slow', 'Slow', 'Fast', 'Mixed', 'Slow/Fast', 'Auto-tune', 'Auto-tune', 'Auto-tune'] },
                    10: { name: 'DECMOD', desc: 'Decay Mode (bit 10)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ ê°ì‡  ëª¨ë“œ ì„¤ì •' },
                    9: { name: 'DECMOD', desc: 'Decay Mode (bit 9)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ ê°ì‡  ëª¨ë“œ ì„¤ì •' },
                    8: { name: 'TDECAY', desc: 'Decay Transition Time', detail: 'Mixed ëª¨ë“œ ì „í™˜ ì‹œê°„ (500ns ë‹¨ìœ„)<br/>â€¢ ë²”ìœ„: 0 ~ 127.5Î¼s<br/>â€¢ ê³„ì‚°: ê°’ Ã— 500ns<br/>â€¢ Mixed ëª¨ë“œì—ì„œ Slowâ†’Fast ì „í™˜ì <br/>â€¢ ì¼ë°˜ì ìœ¼ë¡œ TOFFì˜ 50-80% ê¶Œì¥', calculator: true, unit: 'Ã—500ns', min: 0, max: 255 },
                    7: { name: 'TDECAY', desc: 'Decay Transition Time (bit 7)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' },
                    6: { name: 'TDECAY', desc: 'Decay Transition Time (bit 6)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' },
                    5: { name: 'TDECAY', desc: 'Decay Transition Time (bit 5)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' },
                    4: { name: 'TDECAY', desc: 'Decay Transition Time (bit 4)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' },
                    3: { name: 'TDECAY', desc: 'Decay Transition Time (bit 3)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' },
                    2: { name: 'TDECAY', desc: 'Decay Transition Time (bit 2)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' },
                    1: { name: 'TDECAY', desc: 'Decay Transition Time (bit 1)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' },
                    0: { name: 'TDECAY', desc: 'Decay Transition Time (bit 0)', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ TDECAY ê°’ ì„¤ì •' }
                }
            },
            'STALL': {
                address: 0x05,
                name: 'Stall Detection Register',
                description: 'ìŠ¤í†¨ ê²€ì¶œ ì„ê³„ê°’ ë° ì„¤ì •',
                defaultValue: 0x44B0,
                notes: [
                    'VDIV (11:10): Back-EMF ë¶„ë°°ë¹„ - 00=/32, 01=/16, 10=/8, 11=/4. ë†’ì€ ê°’=ê³ ì†ìš©, ë‚®ì€ ê°’=ì €ì†/ê³ ê°ë„ìš©Â¹â·',
                    'SDCNT (9:8): ìŠ¤í†¨ ê²€ì¶œ í™•ì¸ íšŸìˆ˜ - 00=1, 01=2, 10=4, 11=8 steps. ì˜¤ê²€ì¶œ ë°©ì§€ í•„í„°ë§Â¹â¸',
                    'SDTHR (7:0): ìŠ¤í†¨ ê²€ì¶œ ì„ê³„ê°’ - 0~255. ë‚®ì„ìˆ˜ë¡ ë¯¼ê°, ë†’ì„ìˆ˜ë¡ ë‘”ê°. Back-EMF ë ˆë²¨ê³¼ ë¹„êµ',
                    'Back-EMF ì›ë¦¬: ëª¨í„° íšŒì „ ì‹œ ë°œìƒí•˜ëŠ” ì—­ê¸°ì „ë ¥ìœ¼ë¡œ ìŠ¤í†¨ ê²€ì¶œ. ìŠ¤í†¨ ì‹œ Back-EMF ê¸‰ê°Â¹â¶',
                    'ì„¤ì • ê°€ì´ë“œ: ì €ì†/ê³ ë¶€í•˜=ë‚®ì€ VDIV/SDTHR, ê³ ì†/ì €ë¶€í•˜=ë†’ì€ VDIV/SDTHR'
                ],
                bits: {
                    11: { name: 'VDIV[1]', desc: 'Back EMF Divider bit 1', detail: 'Back-EMF ì „ì•• ë¶„ë°°ë¹„ ì„¤ì • (2ë¹„íŠ¸)<br/>â€¢ 00: /32 (ì €ì†/ê³ ê°ë„)<br/>â€¢ 01: /16 (ì¤‘ì €ì†)<br/>â€¢ 10: /8 (ì¤‘ê³ ì†)<br/>â€¢ 11: /4 (ê³ ì†/ì €ê°ë„)', values: ['/32', '/16', '/8', '/4'] },
                    10: { name: 'VDIV[0]', desc: 'Back EMF Divider bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ VDIV ê°’ ì„¤ì •' },
                    9: { name: 'SDCNT[1]', desc: 'Stall Detect Count bit 1', detail: 'ìŠ¤í†¨ ê²€ì¶œ í™•ì¸ ìŠ¤í… ìˆ˜ (2ë¹„íŠ¸)<br/>â€¢ 00: 1 step (ì¦‰ì‹œ ê²€ì¶œ)<br/>â€¢ 01: 2 steps (ì•½ê°„ ì§€ì—°)<br/>â€¢ 10: 4 steps (ì•ˆì •ì )<br/>â€¢ 11: 8 steps (ë§¤ìš° ì•ˆì •ì )', values: ['1 step', '2 steps', '4 steps', '8 steps'] },
                    8: { name: 'SDCNT[0]', desc: 'Stall Detect Count bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ SDCNT ê°’ ì„¤ì •' },
                    7: { name: 'SDTHR[7]', desc: 'Stall Detect Threshold bit 7', detail: 'ìŠ¤í†¨ ê²€ì¶œ ì„ê³„ê°’ (8ë¹„íŠ¸ 0-255)<br/>â€¢ ë‚®ì€ ê°’: ë¯¼ê°í•œ ê²€ì¶œ<br/>â€¢ ë†’ì€ ê°’: ë‘”ê°í•œ ê²€ì¶œ<br/>â€¢ Back-EMF ë ˆë²¨ê³¼ ë¹„êµí•˜ì—¬ ìŠ¤í†¨ íŒì •', calculator: true, bits: 8, unit: '/255' },
                    6: { name: 'SDTHR[6]', desc: 'Stall Detect Threshold bit 6', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SDTHR ê°’ ì„¤ì •' },
                    5: { name: 'SDTHR[5]', desc: 'Stall Detect Threshold bit 5', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SDTHR ê°’ ì„¤ì •' },
                    4: { name: 'SDTHR[4]', desc: 'Stall Detect Threshold bit 4', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SDTHR ê°’ ì„¤ì •' },
                    3: { name: 'SDTHR[3]', desc: 'Stall Detect Threshold bit 3', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SDTHR ê°’ ì„¤ì •' },
                    2: { name: 'SDTHR[2]', desc: 'Stall Detect Threshold bit 2', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SDTHR ê°’ ì„¤ì •' },
                    1: { name: 'SDTHR[1]', desc: 'Stall Detect Threshold bit 1', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SDTHR ê°’ ì„¤ì •' },
                    0: { name: 'SDTHR[0]', desc: 'Stall Detect Threshold bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ë“¤ê³¼ ì¡°í•©í•˜ì—¬ SDTHR ê°’ ì„¤ì •' }
                }
            },
            'DRIVE': {
                address: 0x06,
                name: 'Drive Register',
                description: 'ì¶œë ¥ ë“œë¼ì´ë¸Œ ê°•ë„ ë° ìŠ¬ë£¨ë ˆì´íŠ¸ ì„¤ì •',
                defaultValue: 0x0005,
                notes: [
                    'IDRIVEP (11:10): High-side ê²Œì´íŠ¸ êµ¬ë™ ì „ë¥˜ - 00=10mA, 01=30mA, 10=60mA, 11=120mA. MOSFET í¬ê¸°ì— ë§ê²Œ ì¡°ì •Â¹â¹',
                    'IDRIVEN (9:8): Low-side ê²Œì´íŠ¸ êµ¬ë™ ì „ë¥˜ - 00=10mA, 01=30mA, 10=60mA, 11=120mA. ëŒ€ì¹­ ì„¤ì • ê¶Œì¥',
                    'TDRIVEP (7:6): High-side í”„ë¦¬ë“œë¼ì´ë¸Œ ì‹œê°„ - 00=250ns, 01=500ns, 10=1Î¼s, 11=2Î¼s. ì•ˆì •ì  ìŠ¤ìœ„ì¹­ ë³´ì¥',
                    'TDRIVEN (5:4): Low-side í”„ë¦¬ë“œë¼ì´ë¸Œ ì‹œê°„ - 00=250ns, 01=500ns, 10=1Î¼s, 11=2Î¼s. ë°ë“œíƒ€ì„ê³¼ ì—°ê³„ ì„¤ì •',
                    'OCPDEG (3:2): ê³¼ì „ë¥˜ ë””ê¸€ë¦¬ì¹˜ ì‹œê°„ - 00=1Î¼s, 01=2Î¼s, 10=4Î¼s, 11=8Î¼s. ë…¸ì´ì¦ˆ ì˜¤ë³´í˜¸ ë°©ì§€',
                    'OCPTH (1:0): ê³¼ì „ë¥˜ ì„ê³„ê°’ - 00=250mV, 01=500mV, 10=750mV, 11=1V. VREF = IMAX Ã— RSENSE < OCPTHÂ²Â¹',
                    'EMI vs íš¨ìœ¨: ë†’ì€ IDRIVE=ë¹ ë¥¸ ìŠ¤ìœ„ì¹­/íš¨ìœ¨ í–¥ìƒ/EMI ì¦ê°€, ë‚®ì€ IDRIVE=ëŠë¦° ìŠ¤ìœ„ì¹­/ìŠ¤ìœ„ì¹­ ì†ì‹¤ ì¦ê°€Â²â°'
                ],
                bits: {
                    11: { name: 'IDRIVEP[1]', desc: 'High-side Gate Drive Peak Current bit 1', detail: 'High-side MOSFET ê²Œì´íŠ¸ ë“œë¼ì´ë¸Œ ì „ë¥˜ (2ë¹„íŠ¸)<br/>â€¢ 00: 10mA (ì†Œí˜• MOSFET)<br/>â€¢ 01: 30mA (ì¤‘í˜• MOSFET)<br/>â€¢ 10: 60mA (ëŒ€í˜• MOSFET)<br/>â€¢ 11: 120mA (ì´ˆëŒ€í˜• MOSFET)', values: ['10mA', '30mA', '60mA', '120mA'] },
                    10: { name: 'IDRIVEP[0]', desc: 'High-side Gate Drive Peak Current bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ IDRIVEP ê°’ ì„¤ì •' },
                    9: { name: 'IDRIVEN[1]', desc: 'Low-side Gate Drive Peak Current bit 1', detail: 'Low-side MOSFET ê²Œì´íŠ¸ ë“œë¼ì´ë¸Œ ì „ë¥˜ (2ë¹„íŠ¸)<br/>â€¢ 00: 10mA (ì†Œí˜• MOSFET)<br/>â€¢ 01: 30mA (ì¤‘í˜• MOSFET)<br/>â€¢ 10: 60mA (ëŒ€í˜• MOSFET)<br/>â€¢ 11: 120mA (ì´ˆëŒ€í˜• MOSFET)', values: ['10mA', '30mA', '60mA', '120mA'] },
                    8: { name: 'IDRIVEN[0]', desc: 'Low-side Gate Drive Peak Current bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ IDRIVEN ê°’ ì„¤ì •' },
                    7: { name: 'TDRIVEP[1]', desc: 'High-side Gate Drive Time bit 1', detail: 'High-side í”„ë¦¬ë“œë¼ì´ë¸Œ ì‹œê°„ (2ë¹„íŠ¸)<br/>â€¢ 00: 250ns (ë¹ ë¥¸ ìŠ¤ìœ„ì¹­)<br/>â€¢ 01: 500ns (í‘œì¤€)<br/>â€¢ 10: 1Î¼s (ì•ˆì •ì )<br/>â€¢ 11: 2Î¼s (ë§¤ìš° ì•ˆì •ì )', values: ['250ns', '500ns', '1Î¼s', '2Î¼s'] },
                    6: { name: 'TDRIVEP[0]', desc: 'High-side Gate Drive Time bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ TDRIVEP ê°’ ì„¤ì •' },
                    5: { name: 'TDRIVEN[1]', desc: 'Low-side Gate Drive Time bit 1', detail: 'Low-side í”„ë¦¬ë“œë¼ì´ë¸Œ ì‹œê°„ (2ë¹„íŠ¸)<br/>â€¢ 00: 250ns (ë¹ ë¥¸ ìŠ¤ìœ„ì¹­)<br/>â€¢ 01: 500ns (í‘œì¤€)<br/>â€¢ 10: 1Î¼s (ì•ˆì •ì )<br/>â€¢ 11: 2Î¼s (ë§¤ìš° ì•ˆì •ì )', values: ['250ns', '500ns', '1Î¼s', '2Î¼s'] },
                    4: { name: 'TDRIVEN[0]', desc: 'Low-side Gate Drive Time bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ TDRIVEN ê°’ ì„¤ì •' },
                    3: { name: 'OCPDEG[1]', desc: 'OCP Deglitch Time bit 1', detail: 'ê³¼ì „ë¥˜ ë³´í˜¸ ë””ê¸€ë¦¬ì¹˜ ì‹œê°„ (2ë¹„íŠ¸)<br/>â€¢ 00: 1Î¼s (ë¹ ë¥¸ ë°˜ì‘)<br/>â€¢ 01: 2Î¼s (í‘œì¤€)<br/>â€¢ 10: 4Î¼s (ì•ˆì •ì )<br/>â€¢ 11: 8Î¼s (ë§¤ìš° ì•ˆì •ì )', values: ['1Î¼s', '2Î¼s', '4Î¼s', '8Î¼s'] },
                    2: { name: 'OCPDEG[0]', desc: 'OCP Deglitch Time bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ OCPDEG ê°’ ì„¤ì •' },
                    1: { name: 'OCPTH[1]', desc: 'OCP Threshold bit 1', detail: 'ê³¼ì „ë¥˜ ë³´í˜¸ ì„ê³„ê°’ (2ë¹„íŠ¸)<br/>â€¢ 00: 250mV (ë¯¼ê°í•œ ë³´í˜¸)<br/>â€¢ 01: 500mV (í‘œì¤€ ë³´í˜¸)<br/>â€¢ 10: 750mV (ì•ˆì •ì  ë³´í˜¸)<br/>â€¢ 11: 1V (ë‘”ê°í•œ ë³´í˜¸)', values: ['250mV', '500mV', '750mV', '1V'] },
                    0: { name: 'OCPTH[0]', desc: 'OCP Threshold bit 0', detail: 'ë‹¤ë¥¸ ë¹„íŠ¸ì™€ ì¡°í•©í•˜ì—¬ OCPTH ê°’ ì„¤ì •' }
                }
            },
            'STATUS': {
                address: 0x07,
                name: 'Status Register',
                description: 'ìƒíƒœ ì •ë³´ (ì½ê¸° ì „ìš©)',
                defaultValue: 0x00C0,
                notes: [
                    'STDLAT (11): ìŠ¤í†¨ ê²€ì¶œ ë˜ì¹˜ - 0=ì •ìƒ, 1=ìŠ¤í†¨ ê²€ì¶œë¨. ë ˆì§€ìŠ¤í„° ì½ê¸°ë¡œ í´ë¦¬ì–´Â²Â³',
                    'STD (10): ì‹¤ì‹œê°„ ìŠ¤í†¨ ê²€ì¶œ - 0=ì •ìƒ, 1=í˜„ì¬ ìŠ¤í†¨ ìƒíƒœ. ì‹¤ì‹œê°„ ë°˜ì˜',
                    'UVLO (9): ì €ì „ì•• ë³´í˜¸ - 0=ì •ìƒ, 1=ê³µê¸‰ì „ì•• ë¶€ì¡±. ë™ì‘ ë¶ˆê°€ ìƒíƒœ',
                    'BPDF/APDF (8:7): í”„ë¦¬ë“œë¼ì´ë²„ ì˜¤ë¥˜ - 0=ì •ìƒ, 1=B/Aì±„ë„ ê²Œì´íŠ¸ ë“œë¼ì´ë¸Œ ì˜¤ë¥˜',
                    'BOCP/AOCP (6:5): ê³¼ì „ë¥˜ ë³´í˜¸ - 0=ì •ìƒ, 1=B/Aì±„ë„ ê³¼ì „ë¥˜ ê²€ì¶œ. OCPTH ê¸°ì¤€',
                    'OTS (4): ê³¼ì˜¨ë„ ë³´í˜¸ - 0=ì •ìƒ, 1=ìœ„í—˜ ì˜¨ë„ ë„ë‹¬. ì¦‰ì‹œ ë™ì‘ ì •ì§€',
                    'OTW (3): ê³¼ì˜¨ë„ ê²½ê³  - 0=ì •ìƒ, 1=ì£¼ì˜ ì˜¨ë„ ë„ë‹¬. ë¶€í•˜ ê°ì†Œ ê¶Œì¥',
                    'ëª¨ë‹ˆí„°ë§: ì£¼ê¸°ì ìœ¼ë¡œ STATUS ì½ì–´ì„œ ì‹œìŠ¤í…œ ì´ìƒ ì¡°ê¸° ë°œê²¬Â²Â². ì˜¤ë¥˜ ì‹œ ì›ì¸ ì œê±° í›„ ì¬ì‹œì‘Â²â´'
                ],
                bits: {
                    11: { name: 'STDLAT', desc: 'Stall Detection Latch (0: No stall, 1: Stall detected)', detail: 'ìŠ¤í†¨ ê²€ì¶œ ë˜ì¹˜. í•œë²ˆ ìŠ¤í†¨ì´ ê²€ì¶œë˜ë©´ ë ˆì§€ìŠ¤í„° ì½ê¸° ì „ê¹Œì§€ ìœ ì§€' },
                    10: { name: 'STD', desc: 'Stall Detection (0: No stall, 1: Stall detected)', detail: 'ì‹¤ì‹œê°„ ìŠ¤í†¨ ê²€ì¶œ ìƒíƒœ. í˜„ì¬ ìŠ¤í†¨ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ ë°˜ì˜' },
                    9: { name: 'UVLO', desc: 'Under Voltage Lockout (0: Normal, 1: Under voltage)', detail: 'ì €ì „ì•• ë³´í˜¸ ìƒíƒœ. ê³µê¸‰ì „ì••ì´ ì„ê³„ê°’ ì´í•˜ì¼ ë•Œ í™œì„±í™”' },
                    8: { name: 'BPDF', desc: 'Channel B Predriver Fault (0: Normal, 1: Fault)', detail: 'Bì±„ë„ í”„ë¦¬ë“œë¼ì´ë²„ ì˜¤ë¥˜. ê²Œì´íŠ¸ ë“œë¼ì´ë¸Œ íšŒë¡œ ë¬¸ì œ' },
                    7: { name: 'APDF', desc: 'Channel A Predriver Fault (0: Normal, 1: Fault)', detail: 'Aì±„ë„ í”„ë¦¬ë“œë¼ì´ë²„ ì˜¤ë¥˜. ê²Œì´íŠ¸ ë“œë¼ì´ë¸Œ íšŒë¡œ ë¬¸ì œ' },
                    6: { name: 'BOCP', desc: 'Channel B Overcurrent (0: Normal, 1: Overcurrent)', detail: 'Bì±„ë„ ê³¼ì „ë¥˜ ë³´í˜¸ ë™ì‘. OCPTH ì„¤ì •ê°’ ì´ˆê³¼ ì‹œ í™œì„±í™”' },
                    5: { name: 'AOCP', desc: 'Channel A Overcurrent (0: Normal, 1: Overcurrent)', detail: 'Aì±„ë„ ê³¼ì „ë¥˜ ë³´í˜¸ ë™ì‘. OCPTH ì„¤ì •ê°’ ì´ˆê³¼ ì‹œ í™œì„±í™”' },
                    4: { name: 'OTS', desc: 'Overtemperature Shutdown (0: Normal, 1: Overtemp)', detail: 'ê³¼ì˜¨ë„ ë³´í˜¸ ë™ì‘. ì¹© ì˜¨ë„ê°€ ìœ„í—˜ ìˆ˜ì¤€ì— ë„ë‹¬' },
                    3: { name: 'OTW', desc: 'Overtemperature Warning (0: Normal, 1: Warning)', detail: 'ê³¼ì˜¨ë„ ê²½ê³ . ì˜¨ë„ê°€ ì£¼ì˜ ìˆ˜ì¤€ì— ë„ë‹¬' },
                    2: { name: 'Reserved', desc: 'Reserved', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸' },
                    1: { name: 'Reserved', desc: 'Reserved', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸' },
                    0: { name: 'Reserved', desc: 'Reserved', detail: 'ì˜ˆì•½ëœ ë¹„íŠ¸' }
                }
            }
        };

        // ë ˆì§€ìŠ¤í„° ìƒíƒœ ì €ì¥
        let registerStates = {};

        // ì´ˆê¸°í™”
        function initializeRegisters() {
            Object.keys(DRV8711_REGISTERS).forEach(regName => {
                const regData = DRV8711_REGISTERS[regName];
                const defaultValue = regData.defaultValue || 0;
                
                // ê¸°ë³¸ê°’ì„ 2ì§„ìˆ˜ë¡œ ë³€í™˜ (12ë¹„íŠ¸)
                const binaryStr = defaultValue.toString(2).padStart(12, '0');
                registerStates[regName] = binaryStr.split('').map(bit => parseInt(bit)).reverse();
            });
        }

        // ë ˆì§€ìŠ¤í„° UI ìƒì„±
        function createRegisterUI() {
            const container = document.getElementById('registers-container');
            
            Object.entries(DRV8711_REGISTERS).forEach(([regName, regData]) => {
                const regDiv = document.createElement('div');
                regDiv.className = 'register-container';
                
                regDiv.innerHTML = `
                    <div class="register-header">
                        <div class="register-title">${regName} (0x${regData.address.toString(16).toUpperCase().padStart(2, '0')}) - Default: 0x${regData.defaultValue.toString(16).toUpperCase().padStart(3, '0')}, ${regData.description}</div>
                        <div class="register-realtime" id="${regName}-realtime" style="color: #2196F3; font-weight: bold; font-size: 0.95rem; margin-top: 5px;">ê³„ì‚°ê°’ ë¡œë”©ì¤‘...</div>
                        <div class="register-notes">
                            ${regData.notes ? regData.notes.map(note => `<div class="note">âš ï¸ ${note}</div>`).join('') : ''}
                        </div>
                    </div>
                    <div class="register-content">
                        <div class="register-controls">
                            <button class="action-button" onclick="loadDefault('${regName}')">ê¸°ë³¸ê°’ ë¡œë“œ</button>
                            <button class="action-button" onclick="clearRegister('${regName}')">ëª¨ë‘ 0ìœ¼ë¡œ</button>
                            <button class="action-button" onclick="toggleDetailView('${regName}')">ìƒì„¸ë³´ê¸°</button>
                        </div>
                        <div class="bit-grid" id="${regName}-bits">
                            ${Array.from({length: 12}, (_, i) => {
                                const bitNum = 11 - i; // MSB first
                                const bitInfo = regData.bits[bitNum];
                                return `
                                    <div class="bit-container">
                                        <div class="bit-label">Bit ${bitNum}</div>
                                        <button class="bit-button" id="${regName}-bit-${bitNum}" onclick="toggleBit('${regName}', ${bitNum})">0</button>
                                        <div class="bit-description" title="${bitInfo.desc}">${bitInfo.name}</div>
                                        <div class="bit-detail" id="${regName}-detail-${bitNum}" style="display: none;">
                                            ${bitInfo.detail || ''}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        <div class="register-values">
                            <div class="value-display">
                                <span class="value-label">Binary:</span>
                                <span class="value-number" id="${regName}-binary">000000000000</span>
                                <button class="copy-button" onclick="copyValue('${regName}-binary')">ë³µì‚¬</button>
                            </div>
                            <div class="value-display">
                                <span class="value-label">Decimal:</span>
                                <span class="value-number" id="${regName}-decimal">0</span>
                                <button class="copy-button" onclick="copyValue('${regName}-decimal')">ë³µì‚¬</button>
                            </div>
                            <div class="value-display">
                                <span class="value-label">Hex:</span>
                                <span class="value-number" id="${regName}-hex">0x000</span>
                                <button class="copy-button" onclick="copyValue('${regName}-hex')">ë³µì‚¬</button>
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(regDiv);
            });
        }

        // ë¹„íŠ¸ í† ê¸€
        function toggleBit(regName, bitNum) {
            registerStates[regName][bitNum] = 1 - registerStates[regName][bitNum];
            updateRegisterDisplay(regName);
            updateSummary();
        }

        // ê³„ì‚°ëœ ê°’ í‘œì‹œ í•¨ìˆ˜
        function getCalculatedValue(regName, regData, currentState) {
            const results = [];
            
            // CTRL ë ˆì§€ìŠ¤í„°ì˜ íŠ¹ìˆ˜ í•„ë“œë“¤
            if (regName === 'CTRL') {
                // DTIME ê°’ ê³„ì‚° (bit 11:10)
                const dtimeValue = (currentState[11] << 1) | currentState[10];
                const dtimeValues = ['400ns', '450ns', '650ns', '850ns'];
                results.push(`DTIME: ${dtimeValues[dtimeValue]}`);
                
                // ISGAIN ê°’ ê³„ì‚° (bit 9:8)
                const isgainValue = (currentState[9] << 1) | currentState[8];
                const isgainValues = ['5V/V', '10V/V', '20V/V', '40V/V'];
                results.push(`ISGAIN: ${isgainValues[isgainValue]}`);
                
                // EXSTALL ê°’ ê³„ì‚° (bit 7)
                const exstallValue = currentState[7];
                results.push(`ìŠ¤í†¨ê²€ì¶œ: ${exstallValue ? 'ì™¸ë¶€ì„¼ì„œ' : 'ë‚´ë¶€Back-EMF'}`);
                
                // Step Mode ê°’ ê³„ì‚° (bit 6:3)
                const modeValue = (currentState[6] << 3) | (currentState[5] << 2) | (currentState[4] << 1) | currentState[3];
                const modeValues = ['Full(71%)', '1/2 step', '1/4 step', '1/8 step', '1/16 step', '1/32 step', '1/64 step', '1/128 step'];
                if (modeValue < modeValues.length) {
                    results.push(`Step Mode: ${modeValues[modeValue]}`);
                }
                
                // RSTEP ê°’ ê³„ì‚° (bit 2)
                const rstepValue = currentState[2];
                results.push(`ìŠ¤í…ë°©í–¥: ${rstepValue ? 'ë°˜ì „' : 'ì •ìƒ'}`);
                
                // RDIR ê°’ ê³„ì‚° (bit 1)
                const rdirValue = currentState[1];
                results.push(`DIRì‹ í˜¸: ${rdirValue ? 'ë°˜ì „' : 'ì •ìƒ'}`);
                
                // ENBL ê°’ ê³„ì‚° (bit 0)
                const enblValue = currentState[0];
                results.push(`ëª¨í„°ì¶œë ¥: ${enblValue ? 'í™œì„±' : 'ë¹„í™œì„±'}`);
            }
            
            // TORQUE ë ˆì§€ìŠ¤í„°ì˜ ê°’ ê³„ì‚°
            if (regName === 'TORQUE') {
                // SIMPLTH ê°’ ê³„ì‚° (bit 11:8)
                const simplthValue = (currentState[11] << 3) | (currentState[10] << 2) | (currentState[9] << 1) | currentState[8];
                const simplthDesc = simplthValue <= 3 ? 'ë§¤ìš°ë¯¼ê°' : simplthValue <= 7 ? 'ë¯¼ê°' : simplthValue <= 11 ? 'ë³´í†µ' : 'ë‘”ê°';
                results.push(`SIMPLTH: ${simplthValue} (${simplthDesc})`);
                
                // TORQUE ê°’ ê³„ì‚° (bit 7:0)
                const torqueValue = currentState.slice(0, 8).reduce((acc, bit, index) => acc + (bit << index), 0);
                const torquePercent = Math.round((torqueValue / 255) * 100);
                results.push(`TORQUE: ${torqueValue}/255 (${torquePercent}%)`);
            }
            
            // OFF ë ˆì§€ìŠ¤í„°ì˜ TOFF ê°’ ê³„ì‚°
            if (regName === 'OFF') {
                const toffValue = currentState.slice(0, 8).reduce((acc, bit, index) => acc + (bit << index), 0);
                const toffTime = toffValue * 0.5; // 500ns ë‹¨ìœ„
                results.push(`TOFF: ${toffTime}Î¼s (ê°’: ${toffValue})`);
            }
            
            // BLANK ë ˆì§€ìŠ¤í„°ì˜ TBLANK ê°’ ê³„ì‚°
            if (regName === 'BLANK') {
                const tblankValue = currentState.slice(0, 8).reduce((acc, bit, index) => acc + (bit << index), 0);
                const tblankTime = Math.max(tblankValue * 0.02, 1.0); // 20ns ë‹¨ìœ„, ìµœì†Œ 1Î¼s
                results.push(`TBLANK: ${tblankTime}Î¼s (ê°’: ${tblankValue})`);
            }
            
            // DECAY ë ˆì§€ìŠ¤í„°ì˜ ê°’ ê³„ì‚°
            if (regName === 'DECAY') {
                // DECMOD ê°’ ê³„ì‚° (bit 11:9)
                const decmodValue = (currentState[11] << 2) | (currentState[10] << 1) | currentState[9];
                const decmodValues = ['Force slow', 'Slow', 'Fast', 'Mixed', 'Slow/Fast', 'Auto-tune', 'Auto-tune', 'Auto-tune'];
                results.push(`DECMOD: ${decmodValues[decmodValue]} (${decmodValue})`);
                
                // TDECAY ê°’ ê³„ì‚° (bit 8:0)
                const tdecayValue = currentState.slice(0, 9).reduce((acc, bit, index) => acc + (bit << index), 0);
                const tdecayTime = tdecayValue * 0.5; // 500ns ë‹¨ìœ„
                results.push(`TDECAY: ${tdecayTime}Î¼s (ê°’: ${tdecayValue})`);
            }
            
            // STALL ë ˆì§€ìŠ¤í„°ì˜ ê°’ ê³„ì‚°
            if (regName === 'STALL') {
                // VDIV ê°’ ê³„ì‚° (bit 11:10)
                const vdivValue = (currentState[11] << 1) | currentState[10];
                const vdivValues = ['/32', '/16', '/8', '/4'];
                results.push(`VDIV: ${vdivValues[vdivValue]} (${vdivValue})`);
                
                // SDCNT ê°’ ê³„ì‚° (bit 9:8)
                const sdcntValue = (currentState[9] << 1) | currentState[8];
                const sdcntValues = ['1 step', '2 steps', '4 steps', '8 steps'];
                results.push(`SDCNT: ${sdcntValues[sdcntValue]} (${sdcntValue})`);
                
                // SDTHR ê°’ ê³„ì‚° (bit 7:0)
                const sdthrValue = currentState.slice(0, 8).reduce((acc, bit, index) => acc + (bit << index), 0);
                results.push(`SDTHR: ${sdthrValue}/255`);
            }
            
            // DRIVE ë ˆì§€ìŠ¤í„°ì˜ ê°’ ê³„ì‚°
            if (regName === 'DRIVE') {
                // IDRIVEP ê°’ ê³„ì‚° (bit 11:10)
                const idrivepValue = (currentState[11] << 1) | currentState[10];
                const idriveValues = ['10mA', '30mA', '60mA', '120mA'];
                results.push(`IDRIVEP: ${idriveValues[idrivepValue]} (${idrivepValue})`);
                
                // IDRIVEN ê°’ ê³„ì‚° (bit 9:8)
                const idrivenValue = (currentState[9] << 1) | currentState[8];
                results.push(`IDRIVEN: ${idriveValues[idrivenValue]} (${idrivenValue})`);
                
                // TDRIVEP ê°’ ê³„ì‚° (bit 7:6)
                const tdrivepValue = (currentState[7] << 1) | currentState[6];
                const tdriveValues = ['250ns', '500ns', '1Î¼s', '2Î¼s'];
                results.push(`TDRIVEP: ${tdriveValues[tdrivepValue]} (${tdrivepValue})`);
                
                // TDRIVEN ê°’ ê³„ì‚° (bit 5:4)
                const tdrivenValue = (currentState[5] << 1) | currentState[4];
                results.push(`TDRIVEN: ${tdriveValues[tdrivenValue]} (${tdrivenValue})`);
                
                // OCPDEG ê°’ ê³„ì‚° (bit 3:2)
                const ocpdegValue = (currentState[3] << 1) | currentState[2];
                const ocpdegValues = ['1Î¼s', '2Î¼s', '4Î¼s', '8Î¼s'];
                results.push(`OCPDEG: ${ocpdegValues[ocpdegValue]} (${ocpdegValue})`);
                
                // OCPTH ê°’ ê³„ì‚° (bit 1:0)
                const ocpthValue = (currentState[1] << 1) | currentState[0];
                const ocpthValues = ['250mV', '500mV', '750mV', '1V'];
                results.push(`OCPTH: ${ocpthValues[ocpthValue]} (${ocpthValue})`);
            }
            
            // STATUS ë ˆì§€ìŠ¤í„°ì˜ ê°’ ê³„ì‚°
            if (regName === 'STATUS') {
                const statusBits = [];
                if (currentState[11]) statusBits.push('STDLAT: ìŠ¤í†¨ ë˜ì¹˜');
                if (currentState[10]) statusBits.push('STD: ì‹¤ì‹œê°„ ìŠ¤í†¨');
                if (currentState[9]) statusBits.push('UVLO: ì €ì „ì••');
                if (currentState[8]) statusBits.push('BPDF: Bì±„ë„ ì˜¤ë¥˜');
                if (currentState[7]) statusBits.push('APDF: Aì±„ë„ ì˜¤ë¥˜');
                if (currentState[6]) statusBits.push('BOCP: Bì±„ë„ ê³¼ì „ë¥˜');
                if (currentState[5]) statusBits.push('AOCP: Aì±„ë„ ê³¼ì „ë¥˜');
                if (currentState[4]) statusBits.push('OTS: ê³¼ì˜¨ë„ ë³´í˜¸');
                if (currentState[3]) statusBits.push('OTW: ê³¼ì˜¨ë„ ê²½ê³ ');
                
                if (statusBits.length > 0) {
                    results.push(`í™œì„± ìƒíƒœ: ${statusBits.join(', ')}`);
                } else {
                    results.push('ëª¨ë“  ìƒíƒœ ì •ìƒ');
                }
            }
            
            return results;
        }

        // ë ˆì§€ìŠ¤í„° ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸
        function updateRegisterDisplay(regName) {
            const state = registerStates[regName];
            const regData = DRV8711_REGISTERS[regName];
            
            // ë¹„íŠ¸ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            state.forEach((bit, index) => {
                const button = document.getElementById(`${regName}-bit-${index}`);
                button.textContent = bit;
                button.className = bit ? 'bit-button active' : 'bit-button';
            });
            
            // ê°’ ê³„ì‚° ë° í‘œì‹œ
            const binaryStr = state.map((bit, index) => bit).reverse().join('');
            const decimalValue = parseInt(binaryStr, 2);
            const hexValue = decimalValue.toString(16).toUpperCase().padStart(3, '0');
            
            document.getElementById(`${regName}-binary`).textContent = binaryStr;
            document.getElementById(`${regName}-decimal`).textContent = decimalValue;
            document.getElementById(`${regName}-hex`).textContent = `0x${hexValue}`;
            
            // ê³„ì‚°ëœ ê°’ë“¤ ì—…ë°ì´íŠ¸
            const calculatedValues = getCalculatedValue(regName, regData, state);
            
            // í—¤ë”ì— ì‹¤ì‹œê°„ ê³„ì‚°ê°’ í‘œì‹œ
            const realtimeElement = document.getElementById(`${regName}-realtime`);
            if (realtimeElement) {
                if (calculatedValues.length > 0) {
                    realtimeElement.textContent = calculatedValues.join(', ');
                } else {
                    realtimeElement.textContent = 'ê³„ì‚°ëœ ê°’ ì—†ìŒ';
                }
            }
        }

        // ìš”ì•½ ì—…ë°ì´íŠ¸
        function updateSummary() {
            const summaryGrid = document.getElementById('summary-grid');
            summaryGrid.innerHTML = '';
            
            Object.entries(DRV8711_REGISTERS).forEach(([regName, regData]) => {
                const state = registerStates[regName];
                const binaryStr = state.map((bit, index) => bit).reverse().join('');
                const decimalValue = parseInt(binaryStr, 2);
                const hexValue = decimalValue.toString(16).toUpperCase().padStart(3, '0');
                
                // ê³„ì‚°ëœ ê°’ë“¤ ê°€ì ¸ì˜¤ê¸°
                const calculatedValues = getCalculatedValue(regName, regData, state);
                const calculatedValuesHtml = calculatedValues.length > 0 
                    ? '<br><span style="color: #2196F3; font-weight: bold;">ğŸ“Š ' + calculatedValues.join(', ') + '</span>'
                    : '';
                
                const summaryItem = document.createElement('div');
                summaryItem.className = 'summary-item';
                summaryItem.innerHTML = `
                    <div class="summary-register">${regName} (0x${regData.address.toString(16).toUpperCase().padStart(2, '0')})</div>
                    <div class="summary-values">
                        Binary: ${binaryStr}<br>
                        Decimal: ${decimalValue}<br>
                        Hex: 0x${hexValue}${calculatedValuesHtml}
                    </div>
                `;
                
                summaryGrid.appendChild(summaryItem);
            });
        }

        // ê°’ ë³µì‚¬
        function copyValue(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = element.textContent;
                element.textContent = 'ë³µì‚¬ë¨!';
                element.style.color = '#4CAF50';
                
                setTimeout(() => {
                    element.textContent = originalText;
                    element.style.color = '#2196F3';
                }, 1000);
            }).catch(() => {
                alert('í´ë¦½ë³´ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            });
        }

        // ê¸°ë³¸ê°’ ë¡œë“œ
        function loadDefault(regName) {
            const regData = DRV8711_REGISTERS[regName];
            const defaultValue = regData.defaultValue || 0;
            
            // ê¸°ë³¸ê°’ì„ 2ì§„ìˆ˜ë¡œ ë³€í™˜ (12ë¹„íŠ¸)
            const binaryStr = defaultValue.toString(2).padStart(12, '0');
            registerStates[regName] = binaryStr.split('').map(bit => parseInt(bit)).reverse();
            
            updateRegisterDisplay(regName);
            updateSummary();
        }

        // ë ˆì§€ìŠ¤í„° í´ë¦¬ì–´
        function clearRegister(regName) {
            registerStates[regName] = Array(12).fill(0);
            updateRegisterDisplay(regName);
            updateSummary();
        }

        // ìƒì„¸ë³´ê¸° í† ê¸€
        function toggleDetailView(regName) {
            const regData = DRV8711_REGISTERS[regName];
            Object.keys(regData.bits).forEach(bitNum => {
                const detailElement = document.getElementById(`${regName}-detail-${bitNum}`);
                if (detailElement) {
                    const isVisible = detailElement.style.display !== 'none';
                    detailElement.style.display = isVisible ? 'none' : 'block';
                }
            });
        }

        // ëª¨ë“  ë ˆì§€ìŠ¤í„° ê¸°ë³¸ê°’ ë¡œë“œ
        function loadAllDefaults() {
            Object.keys(DRV8711_REGISTERS).forEach(regName => {
                loadDefault(regName);
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            initializeRegisters();
            createRegisterUI();
            
            // ëª¨ë“  ë ˆì§€ìŠ¤í„° ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸
            Object.keys(DRV8711_REGISTERS).forEach(regName => {
                updateRegisterDisplay(regName);
            });
            
            updateSummary();
            
            // ì „ì—­ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ì¶”ê°€
            const headerElement = document.querySelector('.header');
            const globalControlsDiv = document.createElement('div');
            globalControlsDiv.innerHTML = `
                <div style="margin-top: 20px;">
                    <button class="copy-button" onclick="loadAllDefaults()" style="margin-right: 10px; padding: 10px 20px; font-size: 1rem;">
                        ğŸ”„ ëª¨ë“  ë ˆì§€ìŠ¤í„° ê¸°ë³¸ê°’ ë¡œë“œ
                    </button>
                </div>
            `;
            headerElement.appendChild(globalControlsDiv);
        });
    </script>
</body>
</html> 